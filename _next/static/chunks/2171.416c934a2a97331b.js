"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2171],{1154:function(e,t,i){i.r(t),i.d(t,{EmojiDrawer:function(){return l}});var a=i(7363),n=i(2171);let o='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class l{constructor(){this._emojiShapeDict=new Map}destroy(){for(let[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(t?.close(),this._emojiShapeDict.delete(e))}async draw(e){let{drawEmoji:t}=await i.e(6121).then(i.bind(i,6121));t(e)}async init(e){let t=e.actualOptions;if(!n.h.find(e=>(0,a.dB)(e,t.particles.shape.type)))return;let i=[(0,a.mx)(o)],l=n.h.map(e=>t.particles.shape.options[e]).find(e=>!!e);l&&(0,a.KH)(l,e=>{e.font&&i.push((0,a.mx)(e.font))}),await Promise.all(i)}particleDestroy(e){delete e.emojiData}async particleInit(e,t){let i;let n=t.shapeData;if(!n?.value)return;let l=(0,a.wA)(n.value,t.randomIndexData),r=n.font??o;if(!l)return;let s=`${l}_${r}`,c=this._emojiShapeDict.get(s);if(c){t.emojiData=c;return}let f=2*(0,a.KI)(t.size.value),m=(0,a.KI)(t.size.value);if("undefined"!=typeof OffscreenCanvas){let e=new OffscreenCanvas(f,f),t=e.getContext("2d");if(!t)return;t.font=`400 ${2*m}px ${r}`,t.textBaseline="middle",t.textAlign="center",t.fillText(l,m,m),i=e.transferToImageBitmap()}else{let e=document.createElement("canvas");e.width=f,e.height=f;let t=e.getContext("2d");if(!t)return;t.font=`400 ${2*m}px ${r}`,t.textBaseline="middle",t.textAlign="center",t.fillText(l,m,m),i=e}this._emojiShapeDict.set(s,i),t.emojiData=i,await Promise.resolve()}}}}]);